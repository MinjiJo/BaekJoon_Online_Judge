<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>xml문서 find()로 찾기</title>
<style>
*{text-align: center;}
table{margin: 0 auto; width: 50%; font-size: 20px; border-collapse: collapse;}
tr{height: 50px; border-bottom: 1px solid gray;}
tbody tr:hover{background: orange;}
caption{color: green; font-size: 30px; font-weight: bold;}
</style>
<script src="../js/jquery-3.4.1.js"></script>
<script>
	//변수를 선언합니다.
	var xml = '';
	xml += '<friends>';
	xml += '	<friend>';
	xml += '		<name>오바마</name>';
	xml += '		<language>영어</language>';
	xml += '	</friend>';
	xml += '	<friend>';
	xml += '		<name>하니</name>';
	xml += '		<language>중국어</language>';
	xml += '	</friend>';
	xml += '	<friend>';
	xml += '		<name>세종대왕</name>'
	xml += '		<language>한국어</language>';
	xml += '	</friend>';
	xml += '</friends>'
	
	$(document).ready(function(){
		//변수를 선언합니다.
		//문자열을 XML 문서 객체로 변경합니다.
		var xmlDoc = $.parseXML(xml);
		
		var inputName = prompt('친구 이름을 입력하세요','');
		document.body.innerHTML = '친구가 명단에 없습니다.';
		
		//$(xmlDoc) : 문서 객체 xmlDoc을 $()메소드에 넣어 사용합니다.
		//friend 태그는 세 개이므로 each() 메서드를 사용합니다.
		var output = '<table><caption>친구들 명단</caption>'
					+ '<thead><tr><th>번호</th><th>이름</th><th>언어</th></tr></thead><tbody>';
		
		$(xmlDoc).find('friend').each(function(index){
			if($(this).find('name').text() == inputName){
				output += '<tr>';
				output += '	<td>' + (index+1) + '</td>';
				output += '	<td>' + $(this).find('name').text() + '</td>';
				output += '	<td>' + $(this).find('language').text() + '</td>';
				output += '</tr>';
				output += '</tbody></table>';
				
				document.body.innerHTML = output;
			}
		})						
	})
</script>
</head>
<body>

</body>
</html>